define(["require","exports"],function(require,exports){"use strict";function grabOrder($scope,$rootScope,ToolService,AjaxService){$scope.hasGift=!1,$scope.gift={};var queryGift=function(){AjaxService.get({url:ToolService.host+"/wx/order/queryUserGiftCode",headers:{accessToken:ToolService.user.accessToken}}).then(function(data){0==data.code&&data.data.length>0&&($scope.gift=data.data[0],$scope.hasGift=!0)})};ToolService.reset(),$rootScope.globalProp.hasBgColor=!0,ToolService.checkLogin()?(ToolService.loadUser(),queryGift()):ToolService.changeRoute("/user")}return grabOrder});