define(["require","exports"],function(require,exports){"use strict";function cushOver($scope,$rootScope,ToolService,AjaxService){$scope.userId,$scope.accessToken,$scope.cushs,$scope.noCushOver=!1;var loadCushOver=function(){AjaxService.post({url:ToolService.host+"/wx/order/overdue",data:{userId:ToolService.user.id},headers:{accessToken:ToolService.user.accessToken}}).then(function(data){0==data.code?data.data.length<1?$scope.noCushOver=!0:(merge(data.data),$scope.cushs=data.data):ToolService.alert("数据加载失败，请稍后再试!")})},merge=function(items){items.forEach(function(item){1==item.state?item.mess="已使用":3==item.state&&(item.mess="已过期")})};ToolService.reset(),$rootScope.globalProp.hasBgColor=!0,ToolService.checkLogin()?(ToolService.loadUser(),loadCushOver()):ToolService.changeRoute("/user")}return cushOver});