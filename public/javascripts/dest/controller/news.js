define(["require","exports","Swiper"],function(require,exports,Swiper){"use strict";function news($scope,$rootScope,$location,ToolService,AjaxService){$scope.news=[],$scope.navValue="综合",$scope.currentPage=1,$scope.pageRows=10,$scope.imgStyle={width:screen.width},$scope.navParams=[{has:!0,val:"综合"},{has:!1,val:"牙科"},{has:!1,val:"美容"},{has:!1,val:"妇产科"},{has:!1,val:"中医理疗"}];var initSwiper=function(){new Swiper(".swiper-container",{loop:!1,pagination:".swiper-pagination",autoplay:5e3,autoplayDisableOnInteraction:!1,observeParents:!0,observer:!0})};$scope["switch"]=function(index,obj){ToolService.select(index,obj),$scope.news=[],$scope.navValue=obj[index].val,$scope.currentPage=1,$rootScope.followTip.has=!1,loadNews()};var loadNews=function(){AjaxService.post({url:ToolService.host+"/wx/health/queryByType",data:{type:$scope.navValue,currentPage:$scope.currentPage,pageRows:$scope.pageRows}}).then(function(data){0==data.code?data.data.length<1?($scope.news.length<1?$rootScope.followTip.val=$rootScope.followTip.empty:$rootScope.followTip.val=$rootScope.followTip.no,$rootScope.followTip.has=!1):$scope.news=$scope.news.concat(data.data):ToolService.alert(data.message)})};$scope.toDetail=function(id){ToolService.changeRoute("/news/detail","id="+id)},ToolService.reset(),initSwiper(),loadNews(),ToolService.onWindowListen(function(){$scope.currentPage++,loadNews()})}return news});