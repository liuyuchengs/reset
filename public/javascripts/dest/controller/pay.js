define(function(){return function($scope,$rootScope,$location,Tool,Weixin){$scope.code=null,$scope.order=null,$scope.init=function(){$rootScope.hasBgColor=!1,Tool.noWindowListen(),$scope.getParams(),Weixin.wxInit($scope),Weixin.wxConfig($scope)},$scope.getParams=function(){$location.search().code&&($scope.code=$location.search().code),Tool.getSession("order")?$scope.order=Tool.getSession("order"):Tool.changeRoute("/home")},$scope.pay=function(){Weixin.wxPay($scope.order.id,$scope.code)}}});