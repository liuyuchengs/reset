{"version":3,"sources":["routes/bannerRoute.ts"],"names":[],"mappings":";;;;;;;;;AAAA,MAAO,OAAO,WAAW,SAAS,CAAC,CAAC;AACpC,MAAO,UAAU,WAAW,yBAAyB,CAAC,CAAC;AACvD,MAAO,UAAU,WAAW,4BAA4B,CAAC,CAAC;AAE1D;;;GAGG;AACH,IAAI,MAAM,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC;AAE9B;;;;;;;;;;;;;;;GAeG;AACH,eAAqB,GAAmB,EAAC,GAAoB;;QACzD,EAAE,CAAA,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,KAAG,IAAI,IAAE,GAAG,CAAC,IAAI,CAAC,IAAI,KAAG,SAAS,CAAC,CAAA,CAAC;YAChD,IAAI,MAAiB,CAAC;YACtB,EAAE,CAAA,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,KAAG,aAAa,CAAC,CAAA,CAAC;gBAC9B,IAAG,CAAC;oBACA,MAAM,GAAG,MAAM,UAAU,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,EAAC,GAAG,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC;oBAC3E,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;gBACrB,CAAC;gBAAA,KAAK,CAAA,CAAC,GAAG,CAAC,CAAA,CAAC;oBACR,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;oBACjB,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC;gBAC1B,CAAC;YACL,CAAC;YAAA,IAAI,CAAA,CAAC;gBACF,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC,CAAC;YAClD,CAAC;QACL,CAAC;QAAA,IAAI,CAAA,CAAC;YACF,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC;QAC1B,CAAC;IACL,CAAC;CAAA;AACD,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAC,KAAK,CAAC,CAAC;AAE5B,iBAAS,MAAM,CAAC","file":"routes/bannerRoute.js","sourcesContent":["import express = require('express');\nimport HttpResult = require(\"./../modules/HttpResult\");\nimport BannerCtrl = require(\"./../controller/BannerCtrl\");\n\n/**\n * banner图相关接口\n * @module\n */\nlet router = express.Router();\n\n/**\n * /wx/banner/query - 查询banner图,\n * @param {string} type - 主页banner图传入home_banner\n * @returns {HttpResult|error} 返回查询结果\n * @example\n * //请求参数\n * type=home_banner\n * {\n *   \"data\":[\n *     {\"path\":\"http://192.168.0.104:3000/download/ban1.png\"},\n *     {\"path\":\"http://192.168.0.104:3000/download/ban2.png\"},\n *     {\"path\":\"http://192.168.0.104:3000/download/ban3.png\"}],\n *   \"code\":0,\n *   \"message\":\"success\"\n * }\n */\nasync function query(req:express.Request,res:express.Response){\n    if(req.body.type!==null||req.body.type!==undefined){\n        let result:HttpResult;\n        if(req.body.type===\"home_banner\"){\n            try{\n                result = await BannerCtrl.queryBanner(req.body.type,req.headers[\"origin\"]);\n                res.send(result);\n            }catch(err){\n                console.log(err);\n                res.status(500).end();\n            }\n        }else{\n            res.send(HttpResult.CreateFailResult(\"参数错误\"));\n        }\n    }else{\n        res.status(400).end();\n    }\n}\nrouter.post(\"/query\",query);\n\nexport = router;"],"sourceRoot":"../src"}