{"version":3,"sources":["routes/imageRoute.ts"],"names":[],"mappings":";;;;;;;;;AAAA,mDAAmD;AACnD,MAAO,OAAO,WAAW,SAAS,CAAC,CAAC;AAEpC,MAAO,SAAS,WAAW,2BAA2B,CAAC,CAAC;AAIxD;;;GAGG;AACH,IAAI,MAAM,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC;AAE9B;;;;;;;;;GASG;AACH,uBAA6B,GAAmB,EAAC,GAAoB;;QACjE,EAAE,CAAA,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,IAAE,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA,CAAC;YAC/B,IAAG,CAAC;gBACA,IAAI,MAAM,GAAc,MAAM,SAAS,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;gBAC7D,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACrB,CAAC;YAAA,KAAK,CAAA,CAAC,GAAG,CAAC,CAAA,CAAC;gBACR,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBACjB,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC;YAC1B,CAAC;QACL,CAAC;QAAA,IAAI,CAAA,CAAC;YACF,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC;QAC1B,CAAC;IACL,CAAC;CAAA;AACD,MAAM,CAAC,IAAI,CAAC,gBAAgB,EAAC,aAAa,CAAC,CAAC;AAG5C,iBAAS,MAAM,CAAC","file":"routes/imageRoute.js","sourcesContent":["/// <reference path=\"./../../typings/index.d.ts\" />\nimport express = require(\"express\");\nimport HttpResult = require(\"./../modules/HttpResult\");\nimport ImageCtrl = require(\"./../controller/ImageCtrl\");\nimport Tool = require(\"./../modules/Tool\");\nimport NodeData = require(\"NodeData\");\n\n/**\n * 图片相关接口\n * @module\n */\nlet router = express.Router();\n\n/**\n * /wx/image/querybymainid - 查询医院或者项目的图片\n * @param {string} type - \"HOSPITAL\":医院,\"PRODUCT\":项目\n * @returns {HttpResult|Error} 返回查询结果，异常时返回500错误\n * @example\n * // 请求参数\n * type=PRODUCT&mainId=10017\n * // 响应结果\n * [{\"url\":\"upload/image/hospital/dental/10017/d4fc0009ec37494ea3c82292080b8d89.png\"}]\n */\nasync function querybymainid(req:express.Request,res:express.Response){\n    if(req.body.type&&req.body.mainId){\n        try{\n            let result:HttpResult = await ImageCtrl.queryImage(req.body);\n            res.send(result);\n        }catch(err){\n            console.log(err);\n            res.status(500).end();\n        }\n    }else{\n        res.status(400).end();\n    }\n}\nrouter.post(\"/querybymainid\",querybymainid);\n\n\nexport = router;"],"sourceRoot":"../src"}